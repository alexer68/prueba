<ion-header no-border>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button text="Regresar" defaultHref="/"></ion-back-button>
        </ion-buttons>
        <ion-title slot="end">ASISTENCIA</ion-title>
    </ion-toolbar>
    <ion-searchbar placeholder="BÃºsqueda por calle" animated (ionChange)="buscar( $event )">
    </ion-searchbar>
</ion-header>

<ion-content>

    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <ion-list #lista *ngIf="opvista === 1">
        <ion-item-sliding *ngFor="let alumno of relalumnos">

            <ion-item *ngIf="alumno.sitasistencia === 0" color="light">
                <ion-label>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="1">
                                <ion-checkbox [(ngModel)]="alumno.selected" color="tertiary">
                                </ion-checkbox>
                            </ion-col>
                            <ion-col size="11">
                                <ion-label class="ion-text-wrap">{{ alumno.nombre }} </ion-label>
                                <p>{{ alumno.desua }} [ {{ alumno.desasistencia }} ]</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>

            <ion-item *ngIf="alumno.sitasistencia === 1" color="primary">
                <ion-label>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="1">
                                <ion-checkbox [(ngModel)]="alumno.selected" color="tertiary">
                                </ion-checkbox>
                            </ion-col>
                            <ion-col size="11">
                                <ion-label class="ion-text-wrap">{{ alumno.nombre }} </ion-label>
                                <p>{{ alumno.desua }} [ {{ alumno.desasistencia }} ]</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>

            <ion-item *ngIf="alumno.sitasistencia === 2" color="warning">
                <ion-label>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="1">
                                <ion-checkbox [(ngModel)]="alumno.selected" color="tertiary">
                                </ion-checkbox>
                            </ion-col>

                            <ion-col size="11">
                                <ion-label class="ion-text-wrap">{{ alumno.nombre }} </ion-label>
                                <p>{{ alumno.desua }} [ {{ alumno.desasistencia }} ]</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>

            <ion-item *ngIf="alumno.sitasistencia === 3" color="secondary">
                <ion-label>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="1">
                                <ion-checkbox [(ngModel)]="alumno.selected" color="tertiary">
                                </ion-checkbox>
                            </ion-col>
                            <ion-col size="11">
                                <ion-label class="ion-text-wrap">{{ alumno.nombre }} </ion-label>
                                <p>{{ alumno.desua }} [ {{ alumno.desasistencia }} ]</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-label>
            </ion-item>

        </ion-item-sliding>
    </ion-list>

    <ion-fab vertical="top" horizontal="end" slot="fixed">
        <ion-fab-button>
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>

        <ion-fab-list side="bottom">
            <ion-fab-button (click)="registroAsistencia(1)" expand="full">
                <ion-icon color="primary" name="checkmark-circle-outline"></ion-icon>
            </ion-fab-button>

            <ion-fab-button (click)="registroAsistencia(2)" expand="full">
                <ion-icon color="warning" name="checkmark-circle-outline"></ion-icon>
            </ion-fab-button>

            <ion-fab-button (click)="registroAsistencia(3)" expand="full">
                <ion-icon color="secondary" name="checkmark-circle-outline"></ion-icon>
            </ion-fab-button>

            <ion-fab-button (click)="registroAsistencia(0)">
                <ion-icon color="medium" name="checkmark-circle-outline"></ion-icon>
            </ion-fab-button>

        </ion-fab-list>

        <ion-fab-list side="start">
            <ion-fab-button (click)="activarFoto()" *ngIf="opfoto === 1">
                <ion-icon color="primary" src="./assets/svg/userconfoto.svg"></ion-icon>
            </ion-fab-button>

            <ion-fab-button (click)="activarFoto()" *ngIf="opfoto === 0">
                <ion-icon color="primary" src="./assets/svg/usersinfoto.svg"></ion-icon>
            </ion-fab-button>

        </ion-fab-list>

    </ion-fab>

</ion-content>